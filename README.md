# Step 0 단위 테스트 실습
- [X] 테스트 클래스의 테스트 메서드 완성하기 
    - [X] LineServiceMockTest 
    - [X] LineServiceTest
- [X] Line Service 비즈니스 로직 리팩터링
    - [X] 비즈니스 로직을 도메인 클래스(Line)으로 옮기기

# Step 1 구간 추가 기능 변경
- [X] 인수 조건 도출
- [ ] 인수테스트 작성
- [ ] 프로덕션 코드 작성
- [ ] TDD 활용하여 프로덕션 코드 작성
  - [ ] (필수) 도메인 로직
  - [ ] (선택) 도메인 로직 
  
## Feature
### Happy cases 
- Scenario 1 : 구간 등록 (기존 노선 중간)
  - Given: 지하철 노선 생성을 요청하고
  - When: 기존 노선 중간에 구간 생성을 요청하면
  - Then: 지하철 구간 생성이 성공한다.
  - Then: 각 구간의 거리가 달라진다.
  

- Scenario 2: 구간등록 (기존 노선 맨 앞)
  - Given: 지하철 노선 생성을 요청하고
  - When: 기존 노선 맨 앞에 구간 생성을 요청하면 
  - Then: 지하철 구간 생성이 성공한다.
  - Then: 노선의 상행 종점이 새로운 역이 된다.
  

- Scenario 3: 구간등록 (기존 노선 맨 끝)
  - Given: 지하철 노선 생성을 요청하고
  - When: 기존 노선 맨 끝에 구간 생성을 요청하면
  - Then: 지하철 구간 생성이 성공한다.
  - Then: 노선의 하행 종점이 새로운 역이 된다.


- Scenario 4: 노선 조회
  - Given: 지하철 노선 생성을 요청하고
  - Given: 구간을 등록하고
  - When: 노선을 조회하면
  - Then: 역 목록은 이전 구간의 하행역 = 현재 구간의 상행역 의 순서로 조회된다. // TODO: then 구문 명확하게 대체할 방법 찾아보기
  
### 예외 케이스 
- Scenario 5: 구간등록 실패 (기존 노선 중간에 등록할 경우만 해당)
  - Given: 지하철 노선 생성을 요청하고
  - When: 새로 추가된 구간의 거리 = 현 구간의 거리
  - When: 노선 중간에 구간 추가
  - Then: 지하철 구간 생성이 실패한다.
  

- Scenario 6: 구간등록 실패 
  - Given: 지하철 노선 생성을 요청하고
  - When: 새 구간의 상행역과 하행역이 기존 구간에 모두 등록되어 있을 때 
  - When: 구간 추가 
  - Then: 지하철 구간 생성이 실패한다.


- Scenario 7: 구간등록 실패 
  - Given: 지하철 노선 생성을 요청하고
  - When: 상행역/하행역 중 어느것도 노선에 등록 되어 있지 않을때 
  - When: 구간 추가
  - Then: 지하철 구간 생성이 실패한다.